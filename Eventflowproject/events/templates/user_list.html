{% extends 'base.html' %}

{% block content %}
<h2>All Users</h2>

<table style="width: 100%; border-collapse: collapse; margin-top: 20px;">
  <thead>
    <tr style="background-color: #f2f2f2;">
      <th style="border: 1px solid #ddd; padding: 8px;">Full Name</th>
      <th style="border: 1px solid #ddd; padding: 8px;">Email</th>
      <th style="border: 1px solid #ddd; padding: 8px;">Role(s)</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td style="border: 1px solid #ddd; padding: 8px;">{{ user.first_name }} {{ user.last_name }}</td>
      <td style="border: 1px solid #ddd; padding: 8px;">{{ user.email }}</td>
      <td style="border: 1px solid #ddd; padding: 8px;">
        {% for group in user.groups.all %}
          {{ group.name }}{% if not forloop.last %}, {% endif %}
        {% empty %}
          None
        {% endfor %}
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
